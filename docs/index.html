<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-05-31 mar. 15:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CERN-ROOT-mode User Manual</title>
<meta name="author" content="Jay Morgan" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="stylesheet.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">CERN-ROOT-mode User Manual</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgfd80a60">1. Introduction</a>
<ul>
<li><a href="#orga4e2744">1.1. What is ROOT?</a></li>
<li><a href="#org871ab71">1.2. What is CERN-ROOT-mode?</a></li>
</ul>
</li>
<li><a href="#org0a4a517">2. Installation</a>
<ul>
<li><a href="#org0efdf08">2.1. Installing with <code>package.el</code></a></li>
<li><a href="#org2b8ce6d">2.2. Manual installation</a></li>
<li><a href="#orgfed7b4f">2.3. Using <code>use-package</code> and <code>straight.el</code></a></li>
</ul>
</li>
<li><a href="#org32013ae">3. Using cern-root-mode</a>
<ul>
<li><a href="#orgbe263c0">3.1. Using ROOT in Org-mode</a>
<ul>
<li><a href="#orgcadd772">3.1.1. Creating Figures</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb085368">4. Customisation</a></li>
<li><a href="#orge333a23">5. Developing CERN-ROOT-mode</a>
<ul>
<li><a href="#orgb941f95">5.1. Variable index</a></li>
<li><a href="#org01a7817">5.2. Function index</a></li>
<li><a href="#org2521d07">5.3. Testing</a></li>
<li><a href="#org3019ea7">5.4. Contributions</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgfd80a60" class="outline-2">
<h2 id="orgfd80a60"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This is the user-manual for the CERN-ROOT-mode package, the source code of which can be
found at <a href="https://github.com/jaypmorgan/cern-root-mode">https://github.com/jaypmorgan/cern-root-mode</a>. In this manual, I detail how to
install, use, customise, and help develop CERN-ROOT-mode.
</p>

<p>
CERN-ROOT-mode is an Emacs major-mode for interacting with ROOT
(<a href="https://root.cern/">https://root.cern/</a>). Specifically, this package provides the facilities to run the
ROOT command line interface/REPL.
</p>
</div>

<div id="outline-container-orga4e2744" class="outline-3">
<h3 id="orga4e2744"><span class="section-number-3">1.1.</span> What is ROOT?</h3>
<div class="outline-text-3" id="text-1-1">
<blockquote>
<p>
ROOT enables statistically sound scientific analyses and visualization of large
amounts of data: today, more than 1 exabyte (1,000,000,000 gigabyte) are stored in
ROOT files. The Higgs was found with ROOT!
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org871ab71" class="outline-3">
<h3 id="org871ab71"><span class="section-number-3">1.2.</span> What is CERN-ROOT-mode?</h3>
<div class="outline-text-3" id="text-1-2">
<p>
CERN-ROOT-mode is a major-mode in Emacs that provides the functionality to easily interact
with the ROOT REPL. In this, we have provided various functions such as: creating a
new REPL, sending lines/function definitions/evaluating files in this REPL. In
addition to working with C++ files. This functionality is extended to org-mode. In
this way, we may create C++ source code blocks and evaluate their contents, once
again, using the ROOT REPL.
</p>


<div id="orge27afd5" class="figure">
<p><img src="./images/brief-example.gif" alt="brief-example.gif" />
</p>
<p><span class="figure-number">Figure 1: </span>A brief example of what we want CERN-ROOT-mode to do: that is evaluate C++ statements in the ROOT REPL, quickly and easily.</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org0a4a517" class="outline-2">
<h2 id="org0a4a517"><span class="section-number-2">2.</span> Installation</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org0efdf08" class="outline-3">
<h3 id="org0efdf08"><span class="section-number-3">2.1.</span> Installing with <code>package.el</code></h3>
<div class="outline-text-3" id="text-2-1">
<p>
CERN-ROOT-mode is available on <a href="https://melpa.org/#/cern-root-mode">Melpa</a>, so if you use <code>package.el</code>, and assuming that
you've added Melpa to the list of package archives (as shown below), then you can
run <code>(package-install 'cern-root-mode)</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">package</span>)
(add-to-list 'package-archives '(<span style="color: #8b2252;">"melpa"</span> . <span style="color: #8b2252;">"https://melpa.org/packages/"</span>) t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Comment/uncomment this line to enable MELPA Stable if desired.  See `package-archive-priorities`</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">and `package-pinned-packages`. Most users will not need or want to do this.</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(add-to-list 'package-archives '("melpa-stable" . "https://stable.melpa.org/packages/") t)</span>
(package-initialize)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-install 'cern-root-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2b8ce6d" class="outline-3">
<h3 id="org2b8ce6d"><span class="section-number-3">2.2.</span> Manual installation</h3>
<div class="outline-text-3" id="text-2-2">
<p>
First you will need to clone the repository from Github:
</p>

<div class="org-src-container">
<pre class="src src-bash">git clone https://github.com/jaypmorgan/cern-root-mode ~/.emacs.d/cern-root-mode
</pre>
</div>

<p>
After, in Emacs, you can load the package. First we're adding this cloned directory
to the load-path. This will ensure that when we call <code>(load "root")</code>, Emacs will be
able to find a <code>root.el</code>. After, we call <code>(require 'cern-root-mode)</code> which will allow us to
begin using the package straight away. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org4bc54c5">(add-to-list 'load-path <span style="color: #8b2252;">"~/.emacs.d/cern-root-mode/"</span>)
(load <span style="color: #8b2252;">"root"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">cern-root-mode</span>)
</pre>
</div>

<p>
If you want to configure some of the variables, these can be done using <code>setq</code>. One
variable that you might want to customise is the <code>cern-root-filepath</code>. This variable is the
path (absolute or relative) to the ROOT REPL executable.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org52c1119">(<span style="color: #a020f0;">setq</span> cern-root-filepath <span style="color: #8b2252;">"/path/to/root"</span>
      cern-root-terminal-backend 'vterm)
</pre>
</div>

<p>
You may also want to configure some key-bindings to the commonly used functions. I
would suggest that these key-bindings are only created within the C++ keymap.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org9101050">(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-c"</span>) 'cern-root-eval-defun-maybe)
(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-b"</span>) 'cern-root-eval-buffer)
(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-l"</span>) 'cern-root-eval-file)
</pre>
</div>

<p>
In summary we would have the following configuration:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #8b2252;">"~/.emacs.d/cern-root-mode/"</span>)
(load <span style="color: #8b2252;">"root"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">cern-root-mode</span>)
(<span style="color: #a020f0;">setq</span> cern-root-filepath <span style="color: #8b2252;">"/path/to/root"</span>
      cern-root-terminal-backend 'vterm)
(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-c"</span>) 'cern-root-eval-defun-maybe)
(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-b"</span>) 'cern-root-eval-buffer)
(define-key 'c++-mode-map (kbd <span style="color: #8b2252;">"C-c C-l"</span>) 'cern-root-eval-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfed7b4f" class="outline-3">
<h3 id="orgfed7b4f"><span class="section-number-3">2.3.</span> Using <code>use-package</code> and <code>straight.el</code></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Here is one example of installing/configuring the package with <code>straight.el</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">cern-root-mode</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> c++-mode-map
             ((<span style="color: #8b2252;">"C-c C-c"</span> . cern-root-eval-defun)
              (<span style="color: #8b2252;">"C-c C-b"</span> . cern-root-eval-buffer)
              (<span style="color: #8b2252;">"C-c C-l"</span> . cern-root-eval-file)
              (<span style="color: #8b2252;">"C-c C-r"</span> . cern-root-eval-region)))
  <span style="color: #483d8b;">:straight</span> (cern-root-mode <span style="color: #483d8b;">:type</span> git <span style="color: #483d8b;">:host</span> github <span style="color: #483d8b;">:repo</span> <span style="color: #8b2252;">"jaypmorgan/cern-root-mode"</span>)
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> cern-root-filepath <span style="color: #8b2252;">"/path/to/root"</span>))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org32013ae" class="outline-2">
<h2 id="org32013ae"><span class="section-number-2">3.</span> Using cern-root-mode</h2>
<div class="outline-text-2" id="text-3">
<p>
When in a C++ major-mode buffer, enter the command (using <code>M-x</code>): <code>cern-root-run</code>. This will
start a new instance of the ROOT REPL in the same window.
</p>

<p>
If you want to create a new window for the ROOT REPL, instead of using <code>cern-root-run,
enter the command: =cern-root-run-other-window</code>. This will first split the window sensibly,
then create a new ROOT REPL in the other window.
</p>
</div>

<div id="outline-container-orgbe263c0" class="outline-3">
<h3 id="orgbe263c0"><span class="section-number-3">3.1.</span> Using ROOT in Org-mode</h3>
<div class="outline-text-3" id="text-3-1">
<p>
CERN-ROOT-mode provides the functionality to execute C++ source code blocks using the ROOT
REPL instead of the default C++ executable. This can make the process of writing C++
in org-mode more fluid (for an example, see <a href="fig:org-mode-test">fig:org-mode-test</a>).
</p>


<div id="org8db3a9c" class="figure">
<p><img src="./images/org-mode-example.gif" alt="org-mode-example.gif" />
</p>
<p><span class="figure-number">Figure 2: </span>Evaluating C++ source code blocks within Org-mode documents using ROOT!</p>
</div>

<p>
To write C++ code blocks that then are executed using ROOT, specify
<code>root</code> as the language in the <code>begin_src</code> header. For example:
</p>

<pre class="example" id="orge03acf8">
#+begin_src root
// write your code here.
#+end_src
</pre>

<p>
Upon executing this code block (such as with <code>C-c C-c</code>), this code
will be executed in the ROOT REPL instead.
</p>

<p>
Code can be written and re-used over multiple code blocks with the use
of the <code>:session</code> argument (with an optional name). By providing this
argument, a ROOT REPL instance will be created that can be used within
the context of many source blocks. For example, let's create another
code block with this session argument:
</p>

<pre class="example" id="org9ffd2fa">
#+begin_src cern-root :session *my-root-session*
void test() {
	// print something
	printf("This is something");
}
#+end_src
</pre>

<p>
When we first run this code block, CERN-ROOT-mode will create a new
instance of the ROOT REPL in the buffer named <code>*my-root-session*</code> (you
can switch to this buffer if you want to interact directly outside of
the code blocks!). This means that, by specifying the same argument to
a different code block, we can call this <code>test</code> function.
</p>

<pre class="example" id="org256c683">
#+begin_src cern-root :session *my-root-session*
test();  // call the test function
#+end_src
</pre>

<p>
This gets us a long way to achieving the same functionality as <code>root --notebook</code>, but
in Emacs.
</p>
</div>

<div id="outline-container-orgcadd772" class="outline-4">
<h4 id="orgcadd772"><span class="section-number-4">3.1.1.</span> Creating Figures</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Figures can be created by saving the plot before hand, and printing out the filename
of the newly saved plot. Let's explain this by way of an example. If we have a
function that creates a plot and saves it a file:
</p>

<pre class="example" id="orgb058b36">
#+begin_src cern-root :session *root*
const char* macro3(){
    const char* filename{"/tmp/polar-plot.png"};
    auto c = new TCanvas("myCanvas","myCanvas",600,600);
    double rmin = 0.;
    double rmax = TMath::Pi()*6.;
    const int npoints = 1000;
    double r[npoints];
    double theta[npoints];
    for (int ipt = 0; ipt &lt; npoints; ipt++) {
        theta[ipt] = ipt*(rmax-rmin)/npoints+rmin;
        r[ipt] = TMath::Sin(theta[ipt]);
    }
    auto grP1 = new TGraphPolar(npoints,theta,r);
    grP1-&gt;SetTitle("A Fan");
    grP1-&gt;SetLineWidth(3);
    grP1-&gt;SetLineColor(2);
    grP1-&gt;Draw("L");
    gPad-&gt;Update();
    grP1-&gt;GetPolargram()-&gt;SetToRadian();
    c-&gt;SaveAs(filename);
    return filename;
}
#+end_src
</pre>

<p>
We can then execute this function (which will save the plot), and then we just need
to print out the name of the saved file. In addition, we need to specify that our
results is a file:
</p>

<pre class="example" id="org63fb50e">
#+begin_src cern-root :session *root* :results output file
const char* filename = macro3();
printf("%s", filename);
#+end_src
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgb085368" class="outline-2">
<h2 id="orgb085368"><span class="section-number-2">4.</span> Customisation</h2>
<div class="outline-text-2" id="text-4">
<p>
There are only a few variables provided by the package:
</p>

<ul class="org-ul">
<li><b>cern-root-filepath</b> &#x2013; (string, default <code>"root"</code>) this is the
absolute/relative path to the root executable. This could be left as
the default "root" value if ROOT is available on your $PATH.</li>
<li><b>cern-root-command-options</b> &#x2013; (string, default <code>""</code>) these are the
command line options used when starting ROOT. By default there are
no options.</li>
<li><b>cern-root-prompt-regex</b> &#x2013; (string, default <code>"^\\[[0-9;^k]+m?"</code>) this
is the regular expression used to find the input prompt of the ROOT
REPL. If there is a customised prompt, this will need to be updated
to suit the customisation.</li>
<li><b>cern-root-buffer-name</b> &#x2013; (string, default <code>"*ROOT*"</code>) what to call
the ROOT repl buffer when it starts. This could be left as the
default <code>*ROOT*</code>, but its there for you to modify as you please.</li>
<li><b>cern-root-terminal-backend</b> &#x2013; (symbol, default <code>'terminal</code>) the
terminal emulator to run the ROOT instance in. There are only two
current defined [=vterm=, <code>inferior=]. By default, the terminal
  backend is set to =inferior</code>. Though, there is still some issues in
getting the auto-complete to work correctly. If you really need
auto-complete, I would recommend switching the backend to <code>'vterm</code>
(requires you've already installed vterm).</li>
</ul>
</div>
</div>


<div id="outline-container-orge333a23" class="outline-2">
<h2 id="orge333a23"><span class="section-number-2">5.</span> Developing CERN-ROOT-mode</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgb941f95" class="outline-3">
<h3 id="orgb941f95"><span class="section-number-3">5.1.</span> Variable index</h3>
<div class="outline-text-3" id="text-5-1">
<p class="fundoc"><span class="fundoc_header">Variable <span class="fundoc_name">cern-root-filepath</span></span> (Default: )
<span class="fundoc_doc">Path to the ROOT executable.</span></p>
<p class="fundoc"><span class="fundoc_header">Variable <span class="fundoc_name">cern-root-command-options</span></span> (Default: )
<span class="fundoc_doc">Command line options for running ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Variable <span class="fundoc_name">cern-root-prompt-regex</span></span> (Default: )
<span class="fundoc_doc">Regular expression to find prompt location in ROOT-repl.</span></p>
<p class="fundoc"><span class="fundoc_header">Variable <span class="fundoc_name">cern-root-terminal-backend</span></span> (Default: )
<span class="fundoc_doc">Type of terminal to use when running ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Variable <span class="fundoc_name">cern-root-buffer-name</span></span> (Default: )
<span class="fundoc_doc">Name of the newly create buffer for ROOT.</span></p>
</div>
</div>

<div id="outline-container-org01a7817" class="outline-3">
<h3 id="org01a7817"><span class="section-number-3">5.2.</span> Function index</h3>
<div class="outline-text-3" id="text-5-2">
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-run</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Run an inferior instance of ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-run-other-window</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Run an inferior instance of ROOT in an different window.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-switch-to-repl</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Switch to the ROOT REPL.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-region</span> <span class="fundoc_arglist">(beg end)</span></span> 
<span class="fundoc_doc">Evaluate a region from BEG to END in ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-line</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Evaluate this line in ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-string</span> <span class="fundoc_arglist">(string)</span></span> 
<span class="fundoc_doc">Send and evaluate a STRING in the ROOT REPL.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-defun</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Evaluate a function in ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-buffer</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Evaluate the buffer in ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-eval-file</span> <span class="fundoc_arglist">(filename)</span></span> 
<span class="fundoc_doc">Evaluate FILENAME in ROOT.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-change-working-directory</span> <span class="fundoc_arglist">(dir)</span></span> 
<span class="fundoc_doc">Change the working directory of ROOT to DIR.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root-list-input-history</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">List the history of previously entered statements.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root--remembering-position</span> <span class="fundoc_arglist">(&rest body)</span></span> 
<span class="fundoc_doc">Execute BODY and return to exact position in buffer and window.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root--pluck-item</span> <span class="fundoc_arglist">(el lst)</span></span> 
<span class="fundoc_doc">Return the value of EL in the plist LST.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root--make-earmuff</span> <span class="fundoc_arglist">(name)</span></span> 
<span class="fundoc_doc">Give a NAME earmuffs, i.e. some-name -> *some-name*.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root--make-no-earmuff</span> <span class="fundoc_arglist">(name)</span></span> 
<span class="fundoc_doc">Remove earmuffs from a NAME if it has them, *some-name* -> some-name.</span></p>
<p class="fundoc"><span class="fundoc_header">Function <span class="fundoc_name">cern-root--set-env-vars</span> <span class="fundoc_arglist">nil</span></span> 
<span class="fundoc_doc">Set the environment variable for current directory.

Setup the environment variables so that no colours or bold fonts
will be used in the REPL.  This prevents comint from creating
duplicated input in trying to render the ascii colour codes.

Function returns t if the variables have been set, else nil.  This
return value is very useful for deciding if the variables should
be unset, as we will want not want to remove the user’s existing
rcfiles.</span></p>
</div>
</div>


<div id="outline-container-org2521d07" class="outline-3">
<h3 id="org2521d07"><span class="section-number-3">5.3.</span> Testing</h3>
<div class="outline-text-3" id="text-5-3">
<p>
To test the functionality of the package, some unit tests have been
stored in the <code>tests/</code> directory. To run these unit tests, you can
either evaluate the specific buffer in Emacs and run <code>ert</code> (see
<a href="https://www.gnu.org/software/emacs/manual/html_node/ert/Running-Tests-Interactively.html">https://www.gnu.org/software/emacs/manual/html_node/ert/Running-Tests-Interactively.html</a>
for more information), or you can them all from the command line
using:
</p>

<div class="org-src-container">
<pre class="src src-bash">emacs -batch <span style="color: #8b2252;">\</span>
        -l ert <span style="color: #8b2252;">\</span>
        -l cern-root-mode.el <span style="color: #8b2252;">\</span>
        -l tests/test-cern-root-mode.el <span style="color: #8b2252;">\</span>
        -f ert-run-tests-batch-and-exit
</pre>
</div>
</div>
</div>


<div id="outline-container-org3019ea7" class="outline-3">
<h3 id="org3019ea7"><span class="section-number-3">5.4.</span> Contributions</h3>
<div class="outline-text-3" id="text-5-4">
<p>
All contributions should be directed to <a href="https://github.com/jaypmorgan/cern-root-mode">https://github.com/jaypmorgan/cern-root-mode</a> where
you can submit issues and pull-requests.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-04-20 mer. 00:00</p>
<p class="author">Author: Jay Morgan</p>
<p class="date">Created: 2022-05-31 mar. 15:06</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
